{% load static %}
<style>
  .order-card {
    border-left: 5px solid transparent;
    background-color: #f8f9fa;
    transition: 0.3s ease-in-out;
  }

  .order-card:hover {
    background-color: #eef1f4;
  }

  .order-status-Pending    { border-color: #ffc107; }
  .order-status-Processing { border-color: #17a2b8; }
  .order-status-Shipped    { border-color: #007bff; }
  .order-status-Delivered  { border-color: #28a745; }
  .order-status-Cancelled  { border-color: #dc3545; }

  .badge-status {
    font-size: 0.8rem;
    padding: 0.4em 0.6em;
  }

  .product-price {
    font-weight: 600;
  }
</style>

{% if orders %}
  {% for order in orders %}
    <div class="order-card mb-4 p-3 rounded order-status-{{ order.order_status }}">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <h6 class="mb-0">
          <i class="fas fa-box me-2 text-muted"></i>
          <strong>Order #{{ order.id }}</strong>
        </h6>
        <span class="badge badge-status
          {% if order.order_status == 'Pending' %}bg-warning text-dark
          {% elif order.order_status == 'Processing' %}bg-info
          {% elif order.order_status == 'Shipped' %}bg-primary
          {% elif order.order_status == 'Delivered' %}bg-success
          {% elif order.order_status == 'Cancelled' %}bg-danger
          {% endif %}">
          {{ order.order_status }}
        </span>
      </div>

      <p class="mb-2 text-muted small">Placed on: {{ order.created_at|date:"M d, Y H:i" }}</p>
      <p class="mb-2 fw-semibold">Total: ₹{{ order.total_price }}</p>

      <ul class="list-group">
        {% for item in order.items.all %}
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <span>
              <i class="fas fa-tag text-muted me-1"></i>
              {{ item.product.name }} <span class="text-muted">(x{{ item.quantity }})</span>
            </span>
            <span class="product-price">₹{{ item.price }}</span>
          </li>
        {% endfor %}
      </ul>
    </div>
  {% endfor %}
{% else %}
  <div class="alert alert-secondary text-center">
    <i class="fas fa-info-circle me-2"></i>No orders found for this user.
  </div>
{% endif %}
